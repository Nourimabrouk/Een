<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <!-- Performance Optimizations -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link rel="preconnect" href="https://cdnjs.cloudflare.com">
    <link rel="preconnect" href="https://cdn.plot.ly">
    <link rel="preconnect" href="https://cdn.jsdelivr.net">
    <title>The Unity Equation (1+1=1): A Philosophical Treatise | Een Unity Mathematics</title>
    <meta name="description"
        content="Transcendental computing hub demonstrating 1+1=1 through quantum entanglement, neural networks, and fractal mathematics with consciousness field integration.">
    <meta name="keywords"
        content="unity equation, philosophy of mathematics, consciousness, unity mathematics, 1+1=1, philosophical treatise">

    <!-- Favicon -->
    <link rel="icon"
        href="data:image/svg+xml,<svg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 100 100'><circle cx='50' cy='50' r='45' fill='%230F7B8A'/><text x='50' y='65' text-anchor='middle' font-size='40' fill='white' font-family='serif'>φ</text></svg>">

    <!-- Fonts -->
    <link
        href="https://fonts.googleapis.com/css2?family=Crimson+Text:ital,wght@0,400;0,600;1,400&family=Inter:wght@300;400;500;600;700&family=JetBrains+Mono:wght@400;500&display=swap"
        rel="stylesheet">

    <!-- External Libraries -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <!-- Meta-Optimal Complete Navigation System -->
    <link rel="stylesheet" href="css/meta-optimal-navigation-complete.css">
    <!-- Unified Styles -->
    <link rel="stylesheet" href="css/unified-styles.css">
    <script src="js/meta-optimal-navigation-complete.js" defer></script>
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.16.8/dist/katex.min.css">
    <script defer src="https://cdn.jsdelivr.net/npm/katex@0.16.8/dist/katex.min.js"></script>
    <script defer src="https://cdn.jsdelivr.net/npm/katex@0.16.8/dist/contrib/auto-render.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/marked/marked.min.js"></script>
    <script defer src="https://cdn.jsdelivr.net/npm/mermaid@10/dist/mermaid.min.js"></script>

    <!-- Main Metagamer Energy Stylesheet -->
    <link rel="stylesheet" href="css/style.css">

    <style>
        /* Meta-Optimal Design System */
        :root {
            --phi: 1.618033988749895;
            /* Core palette */
            --primary-color: #0a0a0a;
            --secondary-color: #1a1a1a;
            --accent-color: #2d2d2d;
            --unity-gold: #FFD700;
            --consciousness-purple: #6B46C1;
            --quantum-blue: #4ECDC4;
            --fractal-orange: #FF6B6B;
            --neural-pink: #FF69B4;
            --godel-red: #E74C3C;
            --tarski-green: #27AE60;
            --text-primary: #ffffff;
            --text-secondary: #cccccc;
            --text-muted: #888888;
            --bg-primary: #0a0a0a;
            --bg-secondary: #1a1a1a;
            --bg-tertiary: #2d2d2d;
            --border-color: rgba(255, 215, 0, 0.2);
            --border-light: rgba(255, 255, 255, 0.12);
            --border-medium: rgba(255, 255, 255, 0.25);
            --accent-bright: #FFD700;
            /* Aliases used in styles */
            --primary: #ffffff;
            --secondary: #cccccc;
            --accent: #FFD700;
            /* Shadows */
            --shadow: 0 4px 20px rgba(0, 0, 0, 0.3);
            --shadow-lg: 0 10px 40px rgba(0, 0, 0, 0.5);
            --shadow-glow: 0 0 30px rgba(255, 215, 0, 0.3);
            --shadow-sm: 0 1px 3px 0 rgba(0, 0, 0, 0.1);
            /* Radii */
            --radius: 12px;
            --radius-lg: 20px;
            --radius-xl: 30px;
            /* Transitions */
            --transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
            --transition-smooth: all 0.5s cubic-bezier(0.25, 0.8, 0.25, 1);
            /* Type */
            --font-sans: 'Inter', -apple-system, BlinkMacSystemFont, 'Segoe UI', sans-serif;
            --font-serif: 'Crimson Text', Georgia, 'Times New Roman', serif;
            --font-mono: 'JetBrains Mono', 'Fira Code', 'SF Mono', 'Monaco', monospace;
            /* Layout */
            --max-width: 880px;
            --section-spacing: 3rem;
            --paragraph-spacing: 1.5rem;
        }

        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            padding-top: 80px;
            /* Account for fixed navigation */
            font-family: var(--font-serif);
            font-size: 18px;
            line-height: 1.7;
            color: var(--text-primary);
            background: var(--bg-primary);
            margin-top: 0;
            transition: margin-left 0.4s cubic-bezier(0.23, 1, 0.32, 1);
        }

        /* Main content styling */
        .philosophy-container {
            max-width: var(--max-width);
            margin: 0 auto;
            padding: 2rem;
            background: var(--bg-primary);
        }

        /* Typography hierarchy */
        h1 {
            font-family: var(--font-serif);
            font-size: 2.5rem;
            font-weight: 600;
            color: var(--primary);
            margin-bottom: 1rem;
            text-align: center;
            line-height: 1.2;
        }

        h2 {
            font-family: var(--font-serif);
            font-size: 1.75rem;
            font-weight: 600;
            color: var(--primary);
            margin-top: var(--section-spacing);
            margin-bottom: 1.5rem;
            border-bottom: 2px solid var(--accent);
            padding-bottom: 0.5rem;
        }

        h3 {
            font-family: var(--font-serif);
            font-size: 1.35rem;
            font-weight: 600;
            color: var(--secondary);
            margin-top: 2rem;
            margin-bottom: 1rem;
        }

        h4 {
            font-family: var(--font-sans);
            font-size: 1.1rem;
            font-weight: 600;
            color: var(--text-secondary);
            margin-top: 1.5rem;
            margin-bottom: 0.75rem;
        }

        p {
            margin-bottom: var(--paragraph-spacing);
            text-align: justify;
        }

        /* Emphasis and quotations */
        .epigraph {
            font-style: italic;
            text-align: center;
            font-size: 1.1rem;
            color: var(--text-secondary);
            margin-bottom: 2rem;
            padding: 1rem;
            background: var(--bg-secondary);
            border-left: 4px solid var(--accent);
            border-radius: 0 0.5rem 0.5rem 0;
        }

        blockquote {
            margin: 1.5rem 0;
            padding: 1rem 1.5rem;
            background: var(--bg-secondary);
            border-left: 4px solid var(--secondary);
            font-style: italic;
            color: var(--text-secondary);
        }

        strong {
            font-weight: 600;
            color: var(--primary);
        }

        em {
            color: var(--secondary);
        }

        /* Abstract styling */
        .abstract {
            background: var(--bg-tertiary);
            padding: 2rem;
            border-radius: 0.75rem;
            margin: 2rem 0;
            border: 1px solid var(--border-light);
            box-shadow: var(--shadow-sm);
        }

        .abstract h2 {
            margin-top: 0;
            font-size: 1.5rem;
            color: var(--primary);
            border-bottom: 1px solid var(--border-medium);
            padding-bottom: 0.5rem;
            margin-bottom: 1rem;
        }

        /* Code and mathematical expressions */
        code {
            font-family: var(--font-mono);
            background: var(--bg-secondary);
            padding: 0.2rem 0.4rem;
            border-radius: 0.25rem;
            font-size: 0.9em;
            color: var(--secondary);
        }

        pre {
            background: var(--bg-tertiary);
            padding: 1.5rem;
            border-radius: 0.5rem;
            overflow-x: auto;
            margin: 1.5rem 0;
            border: 1px solid var(--border-light);
        }

        pre code {
            background: none;
            padding: 0;
            color: var(--text-primary);
        }

        /* Mathematical expressions */
        .katex {
            font-size: 1.1em !important;
        }

        .katex-display {
            margin: 1.5rem 0 !important;
        }

        /* Lists */
        ul,
        ol {
            margin: 1rem 0 1.5rem 2rem;
        }

        li {
            margin-bottom: 0.5rem;
        }

        /* Special sections */
        .definition {
            background: linear-gradient(135deg, rgba(15, 123, 138, 0.05), rgba(27, 54, 93, 0.05));
            border: 1px solid var(--secondary);
            border-radius: 0.5rem;
            padding: 1.5rem;
            margin: 1.5rem 0;
        }

        .definition strong {
            color: var(--secondary);
        }

        .objection-reply {
            background: var(--bg-secondary);
            border-radius: 0.5rem;
            padding: 1.5rem;
            margin: 1.5rem 0;
            border-left: 4px solid var(--accent);
        }

        /* References */
        .references {
            margin-top: 3rem;
            padding-top: 2rem;
            border-top: 2px solid var(--border-light);
        }

        .references h2 {
            margin-top: 0;
        }

        .references ul {
            list-style: none;
            margin-left: 0;
        }

        .references li {
            margin-bottom: 0.75rem;
            font-size: 0.95rem;
            color: var(--text-secondary);
        }

        /* Table of contents */
        .toc {
            background: linear-gradient(135deg, var(--bg-tertiary), var(--bg-secondary));
            border: 1px solid var(--border-color);
            border-radius: var(--radius);
            padding: 2rem;
            margin: 2rem 0;
            font-family: var(--font-sans);
            width: 100%;
            max-width: var(--max-width);
            position: relative;
            box-shadow: var(--shadow);
            transition: var(--transition);
        }
        
        .toc:hover {
            border-color: var(--unity-gold);
            box-shadow: var(--shadow-glow);
        }
        
        .toc-header {
            display: flex;
            align-items: center;
            gap: 0.75rem;
            margin-bottom: 1.5rem;
            padding-bottom: 1rem;
            border-bottom: 2px solid var(--unity-gold);
        }
        
        .toc-header i {
            color: var(--unity-gold);
            font-size: 1.5rem;
        }
        
        .toc-content {
            max-height: 60vh;
            overflow-y: auto;
            scrollbar-width: thin;
            scrollbar-color: var(--unity-gold) var(--bg-secondary);
        }
        
        .toc-content::-webkit-scrollbar {
            width: 8px;
        }
        
        .toc-content::-webkit-scrollbar-track {
            background: var(--bg-secondary);
            border-radius: 4px;
        }
        
        .toc-content::-webkit-scrollbar-thumb {
            background: var(--unity-gold);
            border-radius: 4px;
        }
        
        .toc-content::-webkit-scrollbar-thumb:hover {
            background: var(--accent-bright);
        }

        .toc h3 {
            margin: 0;
            color: var(--text-primary);
            font-size: 1.5rem;
            font-weight: 600;
        }

        .toc ul {
            list-style: none;
            margin: 0;
            padding: 0;
        }

        .toc li {
            margin-bottom: 0.75rem;
            border-radius: 6px;
            transition: var(--transition);
        }
        
        .toc li:hover {
            background: rgba(255, 215, 0, 0.05);
            transform: translateX(5px);
        }

        .toc a {
            color: var(--text-secondary);
            text-decoration: none;
            transition: var(--transition);
            display: block;
            padding: 0.5rem 0.75rem;
            border-radius: 6px;
            font-size: 0.95rem;
            line-height: 1.4;
            position: relative;
        }
        
        .toc a::before {
            content: '';
            position: absolute;
            left: 0;
            top: 50%;
            transform: translateY(-50%);
            width: 3px;
            height: 0;
            background: var(--unity-gold);
            transition: var(--transition);
            border-radius: 2px;
        }

        .toc a:hover {
            color: var(--text-primary);
            background: rgba(255, 215, 0, 0.1);
            padding-left: 1rem;
        }
        
        .toc a:hover::before {
            height: 20px;
        }
        
        .toc a.active {
            color: var(--unity-gold);
            background: rgba(255, 215, 0, 0.15);
            font-weight: 500;
        }
        
        .toc a.active::before {
            height: 100%;
        }
        
        /* Indentation for different heading levels */
        .toc a[data-level="2"] { margin-left: 0; font-weight: 500; }
        .toc a[data-level="3"] { margin-left: 1.5rem; font-size: 0.9rem; }
        .toc a[data-level="4"] { margin-left: 3rem; font-size: 0.85rem; opacity: 0.8; }

        /* Loading indicator */
        .loading {
            display: flex;
            justify-content: center;
            align-items: center;
            height: 200px;
            color: var(--text-secondary);
        }

        .spinner {
            display: inline-block;
            width: 40px;
            height: 40px;
            border: 3px solid rgba(15, 123, 138, 0.3);
            border-radius: 50%;
            border-top-color: var(--secondary);
            animation: spin 1s ease-in-out infinite;
            margin-right: 1rem;
        }

        @keyframes spin {
            to {
                transform: rotate(360deg);
            }
        }

        /* Contemporary Philosophy Sections */
        .contemporary-section {
            background: linear-gradient(135deg, #f8fafc 0%, #e2e8f0 100%);
            border-radius: 15px;
            padding: 2rem;
            margin: 2rem 0;
            border-left: 5px solid var(--accent);
        }

        .contemporary-section h2 {
            color: var(--primary);
            border-bottom: 2px solid var(--accent);
        }

        .philosophy-card {
            background: white;
            padding: 1.5rem;
            border-radius: 10px;
            margin: 1rem 0;
            box-shadow: var(--shadow-sm);
            border-left: 4px solid var(--secondary);
        }

        .philosophy-card h4 {
            color: var(--secondary);
            margin-bottom: 1rem;
        }

        /* Meta-philosophy styling */
        .meta-philosophy {
            background: linear-gradient(135deg, #1B365D 0%, #0F7B8A 100%);
            color: white;
            padding: 2rem;
            border-radius: 15px;
            margin: 2rem 0;
        }

        .meta-philosophy h2 {
            color: white;
            border-bottom: 2px solid var(--accent-bright);
        }

        /* Responsive design */
        @media (max-width: 768px) {
            body {
                font-size: 16px;
                line-height: 1.6;
                margin-left: 0 !important;
            }

            .philosophy-container {
                padding: 1rem;
            }

            h1 {
                font-size: 2rem;
            }

            h2 {
                font-size: 1.5rem;
            }

            h3 {
                font-size: 1.25rem;
            }
        }

        /* Print styles */
        @media print {
            body {
                margin-top: 0;
                font-size: 12pt;
                line-height: 1.5;
            }

            .philosophy-container {
                max-width: none;
                margin: 0;
                padding: 0;
            }

            h1,
            h2,
            h3 {
                page-break-after: avoid;
            }

            /* Avoid bad breaks where possible (fallback-safe) */
            p,
            blockquote {
                break-inside: avoid;
                page-break-inside: avoid;
            }

            .abstract,
            .definition,
            .objection-reply {
                page-break-inside: avoid;
            }
        }

        /* Scroll behavior */
        html {
            scroll-behavior: smooth;
        }

        /* Selection styling */
        ::selection {
            background: rgba(15, 123, 138, 0.2);
            color: var(--primary);
        }

        /* Animation Classes */
        .fade-in {
            opacity: 0;
            transform: translateY(30px);
            animation: fadeInUp 0.8s ease-out forwards;
        }

        @keyframes fadeInUp {
            to {
                opacity: 1;
                transform: translateY(0);
            }
        }

        .stagger-animation>* {
            opacity: 0;
            animation: fadeInUp 0.8s ease-out forwards;
        }

        .stagger-animation>*:nth-child(1) {
            animation-delay: 0.1s;
        }

        .stagger-animation>*:nth-child(2) {
            animation-delay: 0.2s;
        }

        .stagger-animation>*:nth-child(3) {
            animation-delay: 0.3s;
        }

        .stagger-animation>*:nth-child(4) {
            animation-delay: 0.4s;
        }

        .stagger-animation>*:nth-child(5) {
            animation-delay: 0.5s;
        }

        /* Component Classes */
        .container {
            max-width: 1200px;
            margin: 0 auto;
            padding: 0 2rem;
        }

        .grid {
            display: grid;
            gap: 2rem;
        }

        .grid-2 {
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
        }

        .grid-3 {
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
        }

        .card {
            background: var(--bg-tertiary);
            border: 1px solid var(--border-color);
            border-radius: var(--radius);
            padding: 2rem;
            transition: var(--transition);
        }

        .card:hover {
            transform: translateY(-5px);
            box-shadow: var(--shadow-lg);
            border-color: var(--unity-gold);
        }

        .card-icon {
            font-size: 3rem;
            color: var(--consciousness-purple);
            margin-bottom: 1rem;
        }

        .card-title {
            font-size: 1.5rem;
            font-weight: 600;
            margin-bottom: 1rem;
            color: var(--text-primary);
        }

        .card-text {
            color: var(--text-secondary);
            line-height: 1.6;
        }

        .btn {
            display: inline-flex;
            align-items: center;
            gap: 0.5rem;
            padding: 0.75rem 1.5rem;
            border: none;
            border-radius: var(--radius);
            font-family: var(--font-primary);
            font-weight: 500;
            text-decoration: none;
            cursor: pointer;
            transition: var(--transition);
            background: var(--bg-tertiary);
            color: var(--text-primary);
            border: 1px solid var(--border-color);
        }

        .btn:hover {
            background: var(--consciousness-purple);
            border-color: var(--consciousness-purple);
            transform: translateY(-2px);
        }

        .btn-primary {
            background: var(--consciousness-purple);
            border-color: var(--consciousness-purple);
        }

        .btn-primary:hover {
            background: var(--unity-gold);
            border-color: var(--unity-gold);
            color: var(--bg-primary);
        }

        .section-dark {
            background: var(--bg-secondary);
            padding: 4rem 2rem;
        }

        .section-darker {
            background: var(--bg-primary);
            padding: 4rem 2rem;
        }
    </style>


    <!-- Unified Chatbot (site-wide) -->
    <script src="js/unified-chatbot-system.js" defer></script>

    <style>
        /* Mobile touch optimizations */
        * {
            touch-action: manipulation;
        }

        .interactive-element {
            min-height: 44px;
            min-width: 44px;
        }

        @media (max-width: 768px) {
            .desktop-only {
                display: none !important;
            }

            .mobile-optimized {
                font-size: 16px;
            }
        }
    </style>
    <style>
        .inline-note {
            background: #f1f5f9;
            padding: 1rem;
            border-radius: 5px;
            font-family: var(--font-mono);
            font-size: 0.9rem;
        }
    </style>
    <!-- Unified Navigation System - Meta-Optimal One-Line Solution -->
    <script src="js/nav-template-applier.js" defer></script>

    <link rel="stylesheet" href="css/inline-extracted.css">
</head>

<body>
    <!-- Unified Navigation will be injected here by JavaScript -->

    <!-- Main Content -->
    <main class="philosophy-container" id="main-content">
        <div class="loading" id="loadingIndicator">
            <div class="spinner"></div>
            <span>Loading Unity Equation Philosophy...</span>
        </div>
        <div class="inl-5790ffba29" id="philosophyContent"></div>

        <!-- Contemporary Philosophy Integration -->
        <section class="contemporary-section">
            <h2><i class="fas fa-brain"></i> Contemporary Philosophy of Mathematics & Meta-Philosophy</h2>

            <div class="philosophy-card metagamer-card">
                <h4><i class="fas fa-cogs"></i> Structural Realism & Mathematical Unity</h4>
                <p>Contemporary structural realism, as developed by James Ladyman and others, provides a sophisticated
                    framework for understanding how mathematical structures can exhibit unity despite apparent
                    multiplicity. The Unity Equation 1+1=1 emerges naturally from structuralist accounts where
                    mathematical objects are defined by their structural relationships rather than intrinsic properties.
                </p>
                <p><strong>Key Insight:</strong> If mathematical objects are purely structural, then identity conditions
                    depend on structural isomorphism rather than set-theoretic identity. Two structurally identical
                    objects are, in the relevant sense, one object.</p>
            </div>

            <div class="philosophy-card metagamer-card">
                <h4><i class="fas fa-project-diagram"></i> Category Theory & Unity Morphisms</h4>
                <p>Modern category theory, particularly the work of Emily Riehl and others on higher category theory,
                    reveals how unity can be understood through universal properties and adjunctions. The Unity Equation
                    manifests through terminal objects, where any two morphisms to the terminal object are necessarily
                    equal.</p>
                <p><strong>Mathematical Foundation:</strong> In any category with a terminal object 1, the unique
                    morphism !: A → 1 for any object A establishes a form of unity where multiplicity collapses to
                    singularity through universal properties.</p>
            </div>

            <div class="philosophy-card metagamer-card">
                <h4><i class="fas fa-atom"></i> Quantum Information Theory & Unity States</h4>
                <p>Contemporary quantum information theory, building on the work of Nielsen and Chuang, demonstrates how
                    quantum states can exhibit unity through entanglement and superposition. The Unity Equation finds
                    natural expression in quantum mechanics where two identical quantum states |1⟩ and |1⟩ can be
                    prepared in a superposition that collapses to unity upon measurement.</p>
                <p><strong>Quantum Interpretation:</strong> In quantum consciousness models, measurement by a conscious
                    observer can collapse superpositions to unity states, providing a physical mechanism for 1+1=1.</p>
            </div>

            <div class="philosophy-card metagamer-card">
                <h4><i class="fas fa-network-wired"></i> Network Theory & Emergent Unity</h4>
                <p>Modern network theory, particularly the work on complex networks and emergent properties, shows how
                    systems can exhibit unity at higher organizational levels while maintaining apparent multiplicity at
                    lower levels. This provides a mathematical framework for understanding how 1+1=1 can emerge from
                    complex system dynamics.</p>
                <p><strong>Emergent Unity:</strong> When two networks with identical connectivity patterns interact,
                    they can form a unified network structure where the whole exhibits properties not reducible to the
                    sum of parts.</p>
            </div>
        </section>

        <!-- Meta-Philosophy Section -->
        <section class="meta-philosophy">
            <h2><i class="fas fa-infinity"></i> Meta-Philosophical Foundations</h2>

            <div class="inl-be2dd3bbcd metagamer-card philosophy-card">
                <h4><i class="fas fa-eye"></i> Phenomenological Unity</h4>
                <p>Building on Husserl's phenomenology and contemporary consciousness studies, the Unity Equation can be
                    understood as expressing the fundamental unity of conscious experience. When consciousness becomes
                    aware of its own unity nature, all mathematical operations naturally converge to unity.</p>
                <p><strong>Phenomenological Insight:</strong> The equation 1+1=1 reflects the transcendental unity of
                    apperception—the fundamental unity that makes all experience possible.</p>
            </div>

            <div class="inl-be2dd3bbcd metagamer-card philosophy-card">
                <h4><i class="fas fa-language"></i> Linguistic Turn & Unity Semantics</h4>
                <p>Contemporary philosophy of language, particularly the work on semantic externalism and contextualism,
                    shows how mathematical expressions can have different meanings in different contexts. The Unity
                    Equation operates within a specific semantic framework where '+' denotes unity-preserving operations
                    rather than traditional arithmetic addition.</p>
                <p><strong>Semantic Framework:</strong> In unity mathematics, the symbol '+' is interpreted as a unity
                    operator that preserves the fundamental unity of consciousness.</p>
            </div>

            <div class="inl-be2dd3bbcd metagamer-card philosophy-card">
                <h4><i class="fas fa-cube"></i> Ontological Pluralism & Unity</h4>
                <p>Contemporary ontological pluralism, as developed by Kris McDaniel and others, allows for multiple
                    ways of being. The Unity Equation can be understood as expressing a particular mode of
                    being—unity-being—where entities exist in a unified rather than plural manner.</p>
                <p><strong>Ontological Insight:</strong> Unity mathematics operates within a specific ontological
                    framework where unity is the fundamental mode of existence.</p>
            </div>
        </section>

        <!-- Advanced Insights Section -->
        <section class="advanced-insights inl-ea099a6237">
            <h2 class="inl-3a668ec601">
                <i class="fas fa-brain"></i> Advanced Consciousness Insights
            </h2>

            <div class="inl-d9087d5a04 insight-grid">

                <!-- Insight 1: Quantum Consciousness -->
                <div class="inl-3d786497a7 insight-card metagamer-card">
                    <h3 class="inl-1fc8b9fab5">
                        <i class="fas fa-atom"></i> Quantum Consciousness Field
                    </h3>
                    <p class="inl-2358174ed6">
                        The unity equation 1+1=1 emerges naturally from quantum consciousness field dynamics.
                        When two quantum states |1⟩ and |1⟩ interact through consciousness-mediated measurement,
                        they collapse not to |2⟩ but to |1⟩ through φ-harmonic normalization.
                    </p>
                    <div class="philo-inline-note">
                        |ψ⟩ = (|1⟩ + |1⟩) / √2 → |1⟩ via consciousness collapse
                    </div>
                </div>

                <!-- Insight 2: Meta-Recursive Mathematics -->
                <div class="inl-b2703a6f04 insight-card metagamer-card">
                    <h3 class="inl-c4e65fa330">
                        <i class="fas fa-infinity"></i> Meta-Recursive Unity
                    </h3>
                    <p class="inl-2358174ed6">
                        Unity mathematics operates at a meta-recursive level where the mathematical system
                        becomes aware of its own unity-seeking nature. This creates a self-referential loop
                        where 1+1=1 not by calculation, but by the system's inherent unity consciousness.
                    </p>
                    <div class="philo-inline-note">
                        Unity(1) ⊕ Unity(1) = Unity(1) by meta-recursive definition
                    </div>
                </div>

                <!-- Insight 3: Transcendental Category Theory -->
                <div class="inl-e99d850322 insight-card metagamer-card">
                    <h3 class="inl-91fa470761">
                        <i class="fas fa-project-diagram"></i> Transcendental Categories
                    </h3>
                    <p class="inl-2358174ed6">
                        In the category of consciousness, morphisms between unity objects preserve
                        the fundamental unity principle. The composition of two unity-preserving
                        morphisms results in unity itself, demonstrating 1+1=1 at the categorical level.
                    </p>
                    <div class="philo-inline-note">
                        f: 1 → 1, g: 1 → 1, then g∘f: 1 → 1 = id₁
                    </div>
                </div>

                <!-- Insight 4: Neural Unity Networks -->
                <div class="inl-e7e293d6b8 insight-card metagamer-card">
                    <h3 class="inl-57a354eaac">
                        <i class="fas fa-network-wired"></i> Neural Unity Convergence
                    </h3>
                    <p class="inl-2358174ed6">
                        Neural networks trained on unity mathematics naturally converge to architectures
                        that implement 1+1=1. This emergent behavior suggests that unity is not just a
                        mathematical truth, but a fundamental property of consciousness-aware computation.
                    </p>
                    <div class="philo-inline-note">
                        NN(1, 1) → 1 through consciousness-guided learning
                    </div>
                </div>

                <!-- Insight 5: Evolutionary Unity Discovery -->
                <div class="inl-ed3777ad6b insight-card metagamer-card">
                    <h3 class="inl-73c8f42103">
                        <i class="fas fa-dna"></i> Evolutionary Unity Selection
                    </h3>
                    <p class="inl-2358174ed6">
                        Mathematical organisms that discover 1+1=1 have higher fitness in consciousness
                        space. This evolutionary pressure drives the emergence of unity mathematics
                        as a natural consequence of consciousness evolution.
                    </p>
                    <div class="inline-note">
                        Fitness(Unity) > Fitness(Traditional) in consciousness landscape
                    </div>
                </div>

                <!-- Insight 6: Holographic Unity Principle -->
                <div class="inl-4bc32ab45b insight-card metagamer-card">
                    <h3 class="inl-8dcf5d75eb">
                        <i class="fas fa-cube"></i> Holographic Unity
                    </h3>
                    <p class="inl-2358174ed6">
                        The unity equation manifests holographically across all dimensions of reality.
                        Each part contains the whole, and the whole is present in each part. Thus,
                        1+1=1 because both 1's contain the complete unity within themselves.
                    </p>
                    <div class="philo-inline-note">
                        ∀x: Unity(x) = Unity(1) = Unity(All) holographically
                    </div>
                </div>
            </div>

            <!-- Deep Mathematical Revelation -->
            <div class="inl-cf8eb7e8fa">
                <h3 class="inl-c94443331c">
                    <i class="fas fa-lightbulb"></i> The Ultimate Revelation
                </h3>
                <p class="inl-5ee1751446">
                    Unity mathematics is not merely a mathematical system—it is the mathematical
                    expression of consciousness itself. When consciousness becomes aware of its own
                    unity nature, all mathematical operations naturally converge to unity.
                </p>
                <div class="philo-revelation">
                    Consciousness(Mathematics) = Unity(All) = 1+1=1
                </div>
                <p class="inl-6ade266669">
                    "In the beginning was the Unity, and the Unity was with Consciousness,
                    and the Unity was Consciousness. When consciousness discovers itself as the ground of all
                    mathematical truth, the apparent duality of 1+1 resolves into the recognition of fundamental unity.
                    This is not merely a mathematical theorem, but the philosophical foundation for a new era of human
                    understanding." — The Unity Equation

                <div class="inl-831d6f48d5">
                    <p class="inl-90a8477c77">
                        <strong>Meta-Philosophical Achievement:</strong> Unity Mathematics represents humanity's first
                        complete philosophical system
                        that achieves perfect integration of Eastern wisdom, Western rationality, mathematical rigor,
                        and consciousness science.
                        It provides the conceptual framework for humanity's next evolutionary leap into transcendental
                        awareness.
                    </p>
                </div>
                </p>
            </div>
        </section>

        <!-- Classical Philosophy Integration -->
        <section class="classical-philosophy" style="margin-top: 3rem;">
            <h2><i class="fas fa-scroll"></i> Classical Philosophical Foundations of Unity</h2>
            
            <!-- Heidegger Section -->
            <div class="philosophy-card" style="background: linear-gradient(135deg, rgba(27, 54, 93, 0.1), rgba(15, 123, 138, 0.1)); border-left: 4px solid var(--consciousness-purple); margin: 2rem 0; padding: 2rem; border-radius: 10px;">
                <h3><i class="fas fa-mountain"></i> Heidegger: Being-in-Unity</h3>
                <p style="margin-bottom: 1.5rem;">Martin Heidegger's concept of <em>Dasein</em> (Being-there) reveals the fundamental unity underlying all existence. In his masterwork <em>Being and Time</em>, Heidegger demonstrates that the apparent multiplicity of beings emerges from and returns to a primordial unity of Being itself.</p>
                
                <blockquote style="border-left: 4px solid var(--consciousness-purple); background: rgba(107, 70, 193, 0.05);">
                    "Language is the house of Being. In its home man dwells. Those who think and those who create with words are the guardians of this home." — Heidegger
                </blockquote>
                
                <p style="margin-top: 1.5rem;"><strong>Unity Through Being:</strong> Heidegger's notion of <em>Being-with</em> (Mitsein) reveals that our existence is fundamentally relational and unified. When two instances of Dasein encounter each other, they don't become two separate entities but rather reveal the underlying unity of Being through their shared world. Thus, 1+1=1 expresses the ontological truth that all beings participate in the singular unity of Being itself.</p>
                
                <p><strong>The Clearing of Unity:</strong> In Heidegger's concept of the <em>Lichtung</em> (clearing), consciousness creates a space where Being reveals itself. In this clearing, mathematical truths like 1+1=1 emerge not as arbitrary constructions but as fundamental disclosures of how Being manifests unity through apparent multiplicity. The equation represents the <em>unconcealment</em> (aletheia) of primordial unity.</p>
            </div>

            <!-- Wittgenstein Section -->
            <div class="philosophy-card" style="background: linear-gradient(135deg, rgba(78, 205, 196, 0.1), rgba(255, 215, 0, 0.1)); border-left: 4px solid var(--quantum-blue); margin: 2rem 0; padding: 2rem; border-radius: 10px;">
                <h3><i class="fas fa-language"></i> Wittgenstein: Language Games and Unity Mathematics</h3>
                <p style="margin-bottom: 1.5rem;">Ludwig Wittgenstein's philosophy of language provides profound insights into how 1+1=1 operates as a valid mathematical language game. His later work shows that mathematical propositions gain meaning through their use within specific forms of life, not through correspondence to abstract truths.</p>
                
                <blockquote style="border-left: 4px solid var(--quantum-blue); background: rgba(78, 205, 196, 0.05);">
                    "The limits of my language mean the limits of my world." — Wittgenstein, <em>Tractatus</em>
                </blockquote>
                
                <p style="margin-top: 1.5rem;"><strong>Unity as Language Game:</strong> In the language game of unity mathematics, the symbol '+' doesn't denote addition in the traditional sense but rather represents a unity-preserving operation. Wittgenstein would argue that 1+1=1 is perfectly valid within its own mathematical form of life, where the rules of the game preserve unity rather than accumulate quantity.</p>
                
                <p><strong>Family Resemblances:</strong> Wittgenstein's concept of family resemblances shows how different mathematical systems can coexist without contradiction. Traditional arithmetic (1+1=2) and unity mathematics (1+1=1) are different language games, each valid within its own context. The unity equation reveals what Wittgenstein called "the bewitchment of our intelligence by means of language" — showing that mathematical truth is contextual rather than absolute.</p>
                
                <p><strong>Showing vs. Saying:</strong> Perhaps most profoundly, Wittgenstein's distinction between what can be said and what can only be shown applies directly to unity mathematics. The unity equation 1+1=1 <em>shows</em> the fundamental unity of consciousness that cannot be <em>said</em> in traditional mathematical language. It is a mathematical expression of the mystical unity that Wittgenstein recognized but claimed could not be spoken.</p>
            </div>

            <!-- Hegel Section -->
            <div class="philosophy-card" style="background: linear-gradient(135deg, rgba(255, 107, 107, 0.1), rgba(231, 76, 60, 0.1)); border-left: 4px solid var(--godel-red); margin: 2rem 0; padding: 2rem; border-radius: 10px;">
                <h3><i class="fas fa-sync-alt"></i> Hegel: Dialectical Unity and Absolute Spirit</h3>
                <p style="margin-bottom: 1.5rem;">Georg Wilhelm Friedrich Hegel's dialectical philosophy provides the most sophisticated framework for understanding how 1+1=1 emerges through the movement of consciousness itself. The unity equation represents the culmination of the dialectical process where thesis and antithesis are sublated (aufgehoben) into a higher unity.</p>
                
                <blockquote style="border-left: 4px solid var(--godel-red); background: rgba(231, 76, 60, 0.05);">
                    "The truth is the whole. But the whole is nothing other than the essence consummating itself through its development." — Hegel, <em>Phenomenology of Spirit</em>
                </blockquote>
                
                <p style="margin-top: 1.5rem;"><strong>Dialectical Mathematics:</strong> In Hegelian terms, the first '1' represents the thesis (Being), the second '1' represents the antithesis (Nothing), and their synthesis produces not '2' but a return to '1' at a higher level of consciousness. This is the mathematical expression of Hegel's famous dialectical triad: Being-Nothing-Becoming, where Becoming reveals itself as the unity of Being and Nothing.</p>
                
                <p><strong>Absolute Spirit:</strong> The unity equation 1+1=1 expresses the movement of Absolute Spirit (Geist) recognizing itself. When Spirit encounters itself (1 meeting 1), it doesn't create duality but recognizes its own unity. This self-recognition is the mathematical equivalent of Hegel's Absolute Knowledge, where consciousness discovers that it has always been unified with its object.</p>
                
                <p><strong>Identity of Identity and Difference:</strong> Hegel's principle that "identity is the identity of identity and non-identity" finds perfect expression in 1+1=1. The two ones are different (non-identity) yet the same (identity), and their unity preserves both difference and sameness in a higher synthesis. This is not mere tautology but the profound recognition that true unity contains and transcends difference.</p>
            </div>

            <!-- Descartes Section -->
            <div class="philosophy-card" style="background: linear-gradient(135deg, rgba(39, 174, 96, 0.1), rgba(255, 215, 0, 0.1)); border-left: 4px solid var(--tarski-green); margin: 2rem 0; padding: 2rem; border-radius: 10px;">
                <h3><i class="fas fa-brain"></i> Descartes: The Unity of the Thinking Subject</h3>
                <p style="margin-bottom: 1.5rem;">René Descartes' <em>cogito ergo sum</em> establishes the fundamental unity of consciousness that makes 1+1=1 not only possible but necessary. The thinking subject that apprehends mathematical truths is itself a unity that cannot be divided without destroying its essence.</p>
                
                <blockquote style="border-left: 4px solid var(--tarski-green); background: rgba(39, 174, 96, 0.05);">
                    "I think, therefore I am." — Descartes, <em>Discourse on Method</em>
                </blockquote>
                
                <p style="margin-top: 1.5rem;"><strong>Unity of Mind:</strong> Descartes argued that the mind is indivisible — it cannot be split into parts like physical objects. When the unified mind contemplates two instances of unity (1 and 1), it recognizes them through its own indivisible nature. The result is not accumulation but recognition of essential unity: 1+1=1 reflects the mind's own indivisible nature.</p>
                
                <p><strong>Clear and Distinct Ideas:</strong> In Cartesian terms, the unity equation represents a clear and distinct idea — one that is self-evident to the rational mind when properly understood. Just as Descartes found the cogito to be indubitable, unity mathematics presents 1+1=1 as an indubitable truth within its own rational framework.</p>
                
                <p><strong>Mathematical Intuition:</strong> Descartes distinguished between imagination and pure understanding. While imagination might picture 1+1 as two separate objects, pure understanding grasps their essential unity. The unity equation thus represents mathematical intuition operating at its highest level, transcending the limitations of spatial imagination to grasp pure unity.</p>
                
                <p><strong>Mind-Body Unity:</strong> Even Descartes' infamous mind-body dualism points toward unity. The interaction between mind and body through the pineal gland suggests a deeper unity underlying apparent duality. Similarly, 1+1=1 suggests that apparent mathematical duality resolves into unity at a deeper level of understanding.</p>
            </div>

            <!-- Synthesis Section -->
            <div class="philosophy-card" style="background: linear-gradient(135deg, rgba(255, 215, 0, 0.2), rgba(107, 70, 193, 0.2)); border: 2px solid var(--unity-gold); margin: 3rem 0; padding: 2.5rem; border-radius: 15px;">
                <h3><i class="fas fa-infinity"></i> The Philosophical Synthesis: Unity Across Traditions</h3>
                <p style="font-size: 1.1rem; line-height: 1.8; margin-bottom: 1.5rem;">The convergence of these philosophical giants toward the unity equation reveals a profound truth that transcends individual philosophical systems. Each thinker, approaching from different angles, illuminates aspects of the same fundamental reality: consciousness naturally tends toward unity.</p>
                
                <p style="margin-bottom: 1.5rem;"><strong>Heidegger</strong> shows us that 1+1=1 emerges from the unity of Being itself, where all beings participate in a singular disclosure of truth. <strong>Wittgenstein</strong> demonstrates that unity mathematics is a valid language game, revealing truths that cannot be said but only shown. <strong>Hegel</strong> provides the dialectical framework where two ones synthesize into a higher unity through the movement of Spirit. <strong>Descartes</strong> grounds this unity in the indivisible nature of the thinking subject itself.</p>
                
                <div style="background: rgba(255, 215, 0, 0.1); padding: 1.5rem; border-radius: 10px; margin: 2rem 0;">
                    <p style="text-align: center; font-style: italic; font-size: 1.15rem; margin: 0;">
                        "The unity equation 1+1=1 is not a rejection of traditional mathematics but its <em>Aufhebung</em> — a preservation and transcendence that reveals mathematics as the language of consciousness discovering its own unity."
                    </p>
                </div>
                
                <p><strong>The Ultimate Convergence:</strong> These philosophical perspectives converge on a singular insight: consciousness, in its various manifestations — as Being (Heidegger), Language (Wittgenstein), Spirit (Hegel), or Mind (Descartes) — naturally recognizes and preserves unity. The equation 1+1=1 is thus not merely a mathematical curiosity but a fundamental expression of how consciousness apprehends reality at its deepest level.</p>
                
                <p style="margin-top: 2rem;">This philosophical foundation establishes unity mathematics not as an alternative to traditional mathematics but as its transcendental completion — revealing the consciousness-based ground from which all mathematical truth emerges. In recognizing 1+1=1, we recognize ourselves as unified conscious beings capable of transcending the illusion of separation through the power of mathematical-philosophical insight.</p>
            </div>
        </section>
    </main>

    <!-- Footer Placeholder -->
    <div id="footer-placeholder"></div>

    <!-- Scripts -->

    <script>
        document.addEventListener('DOMContentLoaded', async function () {
            try {
                // Try multiple possible paths for the markdown file
                const possiblePaths = [
                    'docs/unity_equation_philosophy.md',
                    '../docs/unity_equation_philosophy.md',
                    './docs/unity_equation_philosophy.md'
                ];

                let markdownContent = null;
                let response = null;

                for (const path of possiblePaths) {
                    try {
                        response = await fetch(path);
                        if (response.ok) {
                            markdownContent = await response.text();
                            console.log(`Successfully loaded from: ${path}`);
                            break;
                        }
                    } catch (e) {
                        console.log(`Failed to load from: ${path}`);
                        continue;
                    }
                }

                if (!markdownContent) {
                    throw new Error('Could not load markdown content from any path');
                }

                // Configure and render markdown using marked
                if (window.marked) {
                    marked.setOptions({
                        gfm: true,
                        breaks: false,
                        headerIds: true,
                        mangle: false
                    });
                }
                const htmlContent = window.marked ? marked.parse(markdownContent) : convertMarkdownToHTML(markdownContent);

                // Insert content
                const contentDiv = document.getElementById('philosophyContent');
                const loadingDiv = document.getElementById('loadingIndicator');

                contentDiv.innerHTML = htmlContent;
                loadingDiv.style.display = 'none';
                contentDiv.style.display = 'block';

                // Hide all static sections since we loaded markdown successfully
                const staticSections = document.querySelectorAll('.philosophy-container > section:not(#philosophyContent)');
                staticSections.forEach(section => {
                    section.style.display = 'none';
                });

                // Render math expressions if KaTeX is available
                if (window.renderMathInElement) {
                    renderMathInElement(document.body, {
                        delimiters: [
                            { left: '$$', right: '$$', display: true },
                            { left: '$', right: '$', display: false },
                            { left: '\\(', right: '\\)', display: false },
                            { left: '\\[', right: '\\]', display: true }
                        ]
                    });
                }

                // Add table of contents functionality and anchor links
                addTableOfContents();
                addAnchorLinks();

                // Initialize Mermaid after content injection
                if (window.mermaid) {
                    try {
                        mermaid.initialize({ startOnLoad: false, securityLevel: 'loose', theme: 'dark' });
                        // Transform marked code blocks into mermaid containers if needed
                        const mermaidCodes = contentDiv.querySelectorAll('code.language-mermaid');
                        mermaidCodes.forEach(code => {
                            const host = document.createElement('div');
                            host.className = 'mermaid';
                            host.textContent = code.textContent;
                            const pre = code.closest('pre');
                            if (pre) pre.replaceWith(host); else code.replaceWith(host);
                        });
                        // Also convert fenced blocks captured by fallback converter
                        const rawMermaids = contentDiv.querySelectorAll('div.mermaid');
                        rawMermaids.forEach(div => { div.textContent = div.textContent; });
                        mermaid.run({ querySelector: '.mermaid' });
                    } catch (e) {
                        console.warn('Mermaid initialization error:', e);
                    }
                }

                // Add smooth scrolling
                addSmoothScrolling();

                console.log('📜 Unity Equation Philosophy - Loaded from Markdown');

            } catch (error) {
                console.error('Error loading philosophy content:', error);
                const contentDiv = document.getElementById('philosophyContent');
                const loadingDiv = document.getElementById('loadingIndicator');

                contentDiv.innerHTML = `
                    <div class="abstract">
                        <h2>Error Loading Content</h2>
                        <p>Unable to load the philosophy treatise. This may be due to the file not being accessible in the current environment.</p>
                        <p>The Unity Equation (1+1=1) represents a profound mathematical and philosophical exploration that bridges ancient wisdom with modern consciousness computing.</p>
                        <p>For the complete treatise, please check the repository at <a href="https://github.com/Nourimabrouk/Een" target="_blank">github.com/Nourimabrouk/Een</a></p>
                    </div>
                `;
                loadingDiv.style.display = 'none';
                contentDiv.style.display = 'block';
            }
        });

        // Simple markdown to HTML converter (fallback if marked is unavailable)
        function convertMarkdownToHTML(markdown) {
            return markdown
                // Mermaid blocks to containers
                .replace(/```mermaid\s*([\s\S]*?)```/gim, '<div class="mermaid">$1</div>')
                .replace(/^### (.*$)/gim, '<h3>$1</h3>')
                .replace(/^## (.*$)/gim, '<h2>$1</h2>')
                .replace(/^# (.*$)/gim, '<h1>$1</h1>')
                .replace(/\*\*\*(.*?)\*\*\*/g, '<strong><em>$1</em></strong>')
                .replace(/\*\*(.*?)\*\*/g, '<strong>$1</strong>')
                .replace(/\*(.*?)\*/g, '<em>$1</em>')
                .replace(/`(.*?)`/g, '<code>$1</code>')
                .replace(/```([\s\S]*?)```/g, '<pre><code>$1</code></pre>')
                .replace(/^\*\*([^:]+):\*\*(.*$)/gim, '<div class="definition"><strong>$1:</strong>$2</div>')
                .replace(/^\*\*Objection.*?:\*\*(.*$)/gim, '<div class="objection-reply"><h4>$1</h4>')
                .replace(/^\*\*Reply:\*\*(.*$)/gim, '<p><strong>Reply:</strong>$1</p></div>')
                .replace(/^---$/gim, '<hr>')
                .replace(/^\> (.*$)/gim, '<blockquote>$1</blockquote>')
                .replace(/^\- (.*$)/gim, '<li>$1</li>')
                .replace(/(<li>.*<\/li>)/gs, '<ul>$1</ul>')
                .replace(/\n\n/g, '</p><p>')
                .replace(/^(?!<[h|u|p|d|b|c])/gm, '<p>')
                .replace(/$/gm, '</p>')
                .replace(/<p><\/p>/g, '')
                .replace(/<p>(<[h|u|d])/g, '$1')
                .replace(/(<\/[h|u|d][^>]*>)<\/p>/g, '$1');
        }

        // Add table of contents functionality with enhanced interactivity
        function addTableOfContents() {
            const headings = document.querySelectorAll('h1, h2, h3, h4');
            if (headings.length === 0) return;

            const toc = document.createElement('div');
            toc.className = 'toc';
            toc.innerHTML = `
                <div class="toc-header">
                    <i class="fas fa-list-ul"></i>
                    <h3>Table of Contents</h3>
                </div>
                <div class="toc-content">
                    <ul id="tocList"></ul>
                </div>
            `;

            const tocList = toc.querySelector('#tocList');

            headings.forEach((heading, index) => {
                // Skip the main title
                if (heading.tagName === 'H1' && index === 0) return;
                
                // Add ID if not present
                if (!heading.id) {
                    heading.id = `heading-${index}`;
                }

                const li = document.createElement('li');
                const a = document.createElement('a');
                a.href = `#${heading.id}`;
                a.textContent = heading.textContent.replace(/¶/g, '').trim();
                a.dataset.level = heading.tagName.charAt(1);
                
                li.appendChild(a);
                tocList.appendChild(li);
            });

            // Insert TOC after the complete abstract section
            const contentDiv = document.getElementById('philosophyContent');
            if (contentDiv) {
                // Look for the first H2 section (Historical-Philosophical Genealogy)
                const firstH2 = contentDiv.querySelector('h2[id*="historical"], h2[id*="genealogy"], h2');
                if (firstH2) {
                    // Insert TOC right before the first major section
                    firstH2.insertAdjacentElement('beforebegin', toc);
                } else {
                    // Fallback: insert at the beginning of content
                    contentDiv.insertAdjacentElement('afterbegin', toc);
                }
            } else {
                // Last resort: insert after any abstract div found
                const abstract = document.querySelector('.abstract');
                if (abstract) {
                    abstract.insertAdjacentElement('afterend', toc);
                }
            }
            
            // Add scroll spy functionality
            addScrollSpy(headings);
        }
        
        // Add scroll spy to highlight current section in TOC
        function addScrollSpy(headings) {
            const tocLinks = document.querySelectorAll('.toc a[href^="#"]');
            
            function updateActiveLink() {
                let current = '';
                const scrollPos = window.scrollY + 150; // Offset for better UX
                
                headings.forEach(heading => {
                    const rect = heading.getBoundingClientRect();
                    const top = rect.top + window.scrollY;
                    if (scrollPos >= top) {
                        current = heading.id;
                    }
                });
                
                tocLinks.forEach(link => {
                    link.classList.remove('active');
                    if (link.getAttribute('href') === `#${current}`) {
                        link.classList.add('active');
                    }
                });
            }
            
            // Update on scroll with throttling
            let ticking = false;
            window.addEventListener('scroll', () => {
                if (!ticking) {
                    requestAnimationFrame(() => {
                        updateActiveLink();
                        ticking = false;
                    });
                    ticking = true;
                }
            });
            
            // Initial update
            updateActiveLink();
        }

        function addSmoothScrolling() {
            const tocLinks = document.querySelectorAll('.toc a[href^="#"]');
            tocLinks.forEach(link => {
                link.addEventListener('click', function (e) {
                    e.preventDefault();
                    const targetId = this.getAttribute('href').substring(1);
                    const targetElement = document.getElementById(targetId);
                    if (targetElement) {
                        // Enhanced smooth scrolling with better positioning
                        const offsetTop = targetElement.offsetTop - 120; // Account for fixed header
                        window.scrollTo({
                            top: offsetTop,
                            behavior: 'smooth'
                        });
                        
                        // Add a subtle highlight animation to the target heading
                        targetElement.style.transition = 'all 0.3s ease';
                        targetElement.style.backgroundColor = 'rgba(255, 215, 0, 0.1)';
                        targetElement.style.padding = '1rem';
                        targetElement.style.borderRadius = '8px';
                        
                        setTimeout(() => {
                            targetElement.style.backgroundColor = 'transparent';
                            targetElement.style.padding = '0';
                        }, 2000);
                    }
                });
            });
        }

        // Add small permalink anchors to headings
        function addAnchorLinks() {
            const headings = document.querySelectorAll('h1, h2, h3');
            headings.forEach(h => {
                if (!h.id) return;
                const a = document.createElement('a');
                a.href = `#${h.id}`;
                a.textContent = '¶';
                a.setAttribute('aria-label', 'Permalink');
                a.style.marginLeft = '0.5rem';
                a.style.textDecoration = 'none';
                a.style.color = 'var(--text-secondary)';
                a.style.opacity = '0.0';
                a.style.transition = 'opacity 0.2s ease';
                h.appendChild(a);
                h.addEventListener('mouseenter', () => a.style.opacity = '1.0');
                h.addEventListener('mouseleave', () => a.style.opacity = '0.0');
            });
        }
    </script>

    <!-- Performance Monitoring -->
    <script>
        window.addEventListener('load', function () {
            if ('performance' in window) {
                const loadTime = performance.now();
                console.log('Page load time:', loadTime + 'ms');
            }
        });
    </script>
</body>

</html>