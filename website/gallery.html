<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Gallery - Een Unity Visualizations | Mathematical Art & Consciousness Fields</title>
    <meta name="description"
        content="Explore visual representations of 1+1=1 unity mathematics through consciousness fields, quantum manifolds, and φ-harmonic geometric art.">
    <meta name="keywords"
        content="unity visualizations, consciousness art, quantum fields, mathematical art, sacred geometry, phi harmonic">

    <!-- Favicon and Icons -->
    <link rel="icon"
        href="data:image/svg+xml,<svg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 100 100'><text y='.9em' font-size='90'>∞</text></svg>">

    <!-- Fonts -->
    <link
        href="https://fonts.googleapis.com/css2?family=JetBrains+Mono:wght@300;400;500;600;700&family=Inter:wght@300;400;500;600;700&family=Crimson+Text:wght@400;600&display=swap"
        rel="stylesheet">

    <!-- External Libraries -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.12.2/gsap.min.js"></script>

    <!-- Main Styles -->
    <link rel="stylesheet" href="css/style.css">
    
    <!-- Gallery-specific styles -->
    <style>
        /* Gallery page specific overrides */
        body {
            margin-top: 80px;
        }

        /* Gallery Header */
        .gallery-hero {
            background: var(--gradient-primary);
            color: white;
            padding: clamp(4rem, 8vh, 6rem) 0;
            position: relative;
            overflow: hidden;
        }

        .gallery-hero::before {
            content: '';
            position: absolute;
            top: -50%;
            right: -25%;
            width: 150%;
            height: 200%;
            background: 
                radial-gradient(circle at 25% 75%, rgba(15, 123, 138, 0.15) 0%, transparent 50%),
                radial-gradient(circle at 75% 25%, rgba(59, 130, 246, 0.1) 0%, transparent 50%);
            animation: geometric-float 20s ease-in-out infinite;
        }

        .gallery-hero-content {
            position: relative;
            z-index: 1;
            text-align: center;
        }

        .gallery-title {
            font-size: clamp(2.5rem, 5vw, 4rem);
            font-weight: 700;
            margin-bottom: 1.5rem;
            animation: fade-in-up 0.8s ease-out;
            line-height: 1.1;
        }

        .gallery-subtitle {
            font-size: clamp(1.1rem, 2.5vw, 1.5rem);
            font-weight: 400;
            margin-bottom: 2rem;
            animation: fade-in-up 0.8s ease-out 0.2s both;
            color: rgba(255, 255, 255, 0.9);
            line-height: 1.4;
            max-width: 800px;
            margin-left: auto;
            margin-right: auto;
        }

        /* Filter Controls */
        .filter-controls {
            display: flex;
            justify-content: center;
            gap: 1rem;
            margin: 3rem 0;
            flex-wrap: wrap;
        }

        .filter-btn {
            background: rgba(15, 123, 138, 0.1);
            border: 2px solid var(--phi-gold);
            color: var(--primary-color);
            padding: 0.75rem 1.5rem;
            border-radius: var(--radius-lg);
            cursor: pointer;
            transition: all var(--transition-smooth);
            font-weight: 600;
            font-size: 0.95rem;
            backdrop-filter: blur(10px);
        }

        .filter-btn:hover,
        .filter-btn.active {
            background: var(--phi-gold);
            color: white;
            transform: translateY(-2px);
            box-shadow: var(--shadow-md);
        }

        /* Gallery Grid */
        .gallery-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(350px, 1fr));
            gap: 2rem;
            margin-bottom: 4rem;
        }

        .gallery-item {
            position: relative;
            background: var(--bg-primary);
            border-radius: var(--radius-xl);
            overflow: hidden;
            transition: all var(--transition-smooth);
            cursor: pointer;
            border: 1px solid var(--border-color);
            box-shadow: var(--shadow-sm);
        }

        .gallery-item:hover {
            transform: translateY(-10px);
            box-shadow: var(--shadow-xl);
            border-color: var(--phi-gold);
        }

        .gallery-item img,
        .gallery-item video {
            width: 100%;
            height: 250px;
            object-fit: cover;
            transition: transform var(--transition-smooth);
        }

        .gallery-item:hover img,
        .gallery-item:hover video {
            transform: scale(1.05);
        }

        .gallery-item-info {
            padding: 1.5rem;
        }

        .gallery-item-title {
            font-size: 1.25rem;
            font-weight: 600;
            color: var(--primary-color);
            margin-bottom: 0.5rem;
            font-family: var(--font-serif);
        }

        .gallery-item-type {
            font-size: 0.9rem;
            color: var(--phi-gold);
            font-weight: 600;
            margin-bottom: 0.75rem;
            text-transform: uppercase;
            letter-spacing: 0.5px;
        }

        .gallery-item-description {
            font-size: 0.95rem;
            color: var(--text-secondary);
            line-height: 1.6;
        }

        .featured-item {
            order: -1;
            border: 2px solid var(--phi-gold);
            box-shadow: 0 0 30px rgba(15, 123, 138, 0.2);
        }

        .featured-badge {
            position: absolute;
            top: 15px;
            left: 15px;
            background: var(--gradient-phi);
            color: white;
            padding: 0.5rem 1rem;
            border-radius: var(--radius-lg);
            font-size: 0.8rem;
            font-weight: 700;
            z-index: 10;
            box-shadow: var(--shadow-sm);
        }

        .media-indicator {
            position: absolute;
            top: 15px;
            right: 15px;
            background: rgba(0, 0, 0, 0.7);
            color: white;
            padding: 0.4rem 0.8rem;
            border-radius: var(--radius-md);
            font-size: 0.8rem;
            font-weight: 600;
            z-index: 10;
            backdrop-filter: blur(10px);
        }

        .gif-indicator {
            background: rgba(16, 185, 129, 0.9);
        }

        .video-indicator {
            background: rgba(239, 68, 68, 0.9);
        }

        .featured-item .media-indicator {
            top: 60px;
        }

        /* Modal */
        .modal {
            display: none;
            position: fixed;
            z-index: 2000;
            left: 0;
            top: 0;
            width: 100%;
            height: 100%;
            background: rgba(0, 0, 0, 0.9);
            backdrop-filter: blur(10px);
            animation: modal-fade-in 0.3s ease-out;
        }

        @keyframes modal-fade-in {
            from { opacity: 0; }
            to { opacity: 1; }
        }

        .modal-content {
            position: relative;
            margin: 50px auto;
            max-width: 90vw;
            max-height: 80vh;
            text-align: center;
            animation: modal-slide-in 0.3s ease-out;
        }

        @keyframes modal-slide-in {
            from {
                opacity: 0;
                transform: translateY(30px) scale(0.95);
            }
            to {
                opacity: 1;
                transform: translateY(0) scale(1);
            }
        }

        .modal-image,
        .modal-video {
            max-width: 100%;
            max-height: 70vh;
            border-radius: var(--radius-lg);
            box-shadow: 0 0 50px rgba(15, 123, 138, 0.3);
        }

        .modal-info {
            background: var(--bg-primary);
            padding: 2rem;
            border-radius: var(--radius-lg);
            margin-top: 1rem;
            box-shadow: var(--shadow-lg);
            text-align: left;
            border: 1px solid var(--border-color);
        }

        .modal-title {
            color: var(--primary-color);
            font-size: 1.5rem;
            font-weight: 600;
            margin-bottom: 1rem;
            font-family: var(--font-serif);
        }

        .modal-description {
            color: var(--text-primary);
            line-height: 1.6;
        }

        .modal-meta {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 1rem;
            margin-bottom: 1rem;
        }

        .meta-item {
            display: flex;
            flex-direction: column;
            gap: 0.25rem;
        }

        .meta-label {
            font-weight: 600;
            color: var(--text-secondary);
            font-size: 0.9rem;
            text-transform: uppercase;
            letter-spacing: 0.5px;
        }

        .meta-value {
            color: var(--primary-color);
            font-weight: 500;
        }

        .close {
            position: absolute;
            top: 15px;
            right: 35px;
            color: white;
            font-size: 40px;
            font-weight: bold;
            cursor: pointer;
            transition: all var(--transition-fast);
            background: rgba(0, 0, 0, 0.5);
            width: 50px;
            height: 50px;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            backdrop-filter: blur(10px);
        }

        .close:hover {
            background: rgba(239, 68, 68, 0.8);
            transform: scale(1.1);
        }

        /* Loading animation */
        .loading {
            display: inline-block;
            width: 40px;
            height: 40px;
            border: 3px solid var(--border-color);
            border-radius: 50%;
            border-top-color: var(--phi-gold);
            animation: spin 1s ease-in-out infinite;
            margin: 2rem auto;
        }

        @keyframes spin {
            to { transform: rotate(360deg); }
        }

        /* Gallery Statistics */
        .gallery-stats {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 2rem;
            margin: 3rem 0;
        }

        .stat-card {
            background: var(--bg-primary);
            padding: 2rem;
            border-radius: var(--radius-xl);
            text-align: center;
            border: 1px solid var(--border-color);
            box-shadow: var(--shadow-sm);
            transition: all var(--transition-smooth);
        }

        .stat-card:hover {
            transform: translateY(-5px);
            box-shadow: var(--shadow-md);
        }

        .stat-number {
            font-size: 2.5rem;
            font-weight: 800;
            color: var(--phi-gold);
            font-family: var(--font-mono);
            display: block;
            margin-bottom: 0.5rem;
        }

        .stat-label {
            color: var(--text-secondary);
            font-weight: 500;
            text-transform: uppercase;
            letter-spacing: 0.5px;
            font-size: 0.9rem;
        }

        /* Responsive Design */
        @media (max-width: 768px) {
            .gallery-grid {
                grid-template-columns: 1fr;
                gap: 1.5rem;
            }

            .filter-controls {
                gap: 0.5rem;
            }

            .filter-btn {
                padding: 0.5rem 1rem;
                font-size: 0.9rem;
            }

            .gallery-item img,
            .gallery-item video {
                height: 200px;
            }

            .modal-content {
                margin: 20px auto;
                max-width: 95vw;
            }

            .modal-info {
                padding: 1rem;
            }

            .gallery-stats {
                grid-template-columns: repeat(2, 1fr);
                gap: 1rem;
            }
        }

        /* Dark mode adjustments */
        .dark-mode .modal-info {
            background: var(--bg-secondary);
            border-color: var(--border-subtle);
        }

        .dark-mode .filter-btn {
            background: rgba(15, 123, 138, 0.2);
            color: var(--text-primary);
        }

        .dark-mode .gallery-item {
            background: var(--bg-secondary);
            border-color: var(--border-subtle);
        }

        /* Fade in animation */
        .fade-in {
            opacity: 0;
            transform: translateY(30px);
            animation: fadeInUp 0.6s ease forwards;
        }

        @keyframes fadeInUp {
            to {
                opacity: 1;
                transform: translateY(0);
            }
        }

        /* Enhanced gallery item animations */
        .gallery-item {
            animation: item-fade-in 0.6s ease forwards;
        }

        @keyframes item-fade-in {
            from {
                opacity: 0;
                transform: translateY(30px) scale(0.95);
            }
            to {
                opacity: 1;
                transform: translateY(0) scale(1);
            }
        }
    </style>
</head>

<body>
    <!-- Navigation will be inserted by navigation.js -->

    <!-- Main Content -->
    <main class="main-content">
        <!-- Gallery Hero Section -->
        <section class="gallery-hero">
            <div class="container">
                <div class="gallery-hero-content fade-in">
                    <h1 class="gallery-title">Unity Visualizations</h1>
                    <p class="gallery-subtitle">
                        Explore the visual manifestations of 1+1=1 through consciousness fields, 
                        quantum unity manifolds, and φ-harmonic sacred geometry - a collection of mathematical art 
                        that bridges the abstract and the beautiful.
                    </p>
                </div>
            </div>
        </section>

        <div class="container">
            <!-- Gallery Statistics -->
            <div class="gallery-stats fade-in">
                <div class="stat-card">
                    <span class="stat-number" id="totalVisualizations">Loading...</span>
                    <span class="stat-label">Visualizations</span>
                </div>
                <div class="stat-card">
                    <span class="stat-number" id="animatedCount">Loading...</span>
                    <span class="stat-label">Animated</span>
                </div>
                <div class="stat-card">
                    <span class="stat-number" id="staticCount">Loading...</span>
                    <span class="stat-label">Static Images</span>
                </div>
                <div class="stat-card">
                    <span class="stat-number" id="videoCount">Loading...</span>
                    <span class="stat-label">Videos</span>
                </div>
            </div>

            <!-- Filter Controls -->
            <div class="filter-controls fade-in">
                <button class="filter-btn active" data-filter="all">All Visualizations</button>
                <button class="filter-btn" data-filter="current">Current Collection</button>
                <button class="filter-btn" data-filter="legacy">Legacy Archive</button>
                <button class="filter-btn" data-filter="animated">Animated</button>
            </div>

            <!-- Gallery Grid -->
            <div class="gallery-grid" id="galleryGrid">
                <div class="loading"></div>
            </div>
        </div>
    </main>

    <!-- Modal -->
    <div id="imageModal" class="modal">
        <span class="close">&times;</span>
        <div class="modal-content">
            <img class="modal-image" id="modalImage" style="display: none;">
            <video class="modal-video" id="modalVideo" controls style="display: none;"></video>
            <div class="modal-info">
                <h2 class="modal-title" id="modalTitle"></h2>
                <div class="modal-meta" id="modalMeta"></div>
                <div class="modal-description" id="modalDescription"></div>
            </div>
        </div>
    </div>

    <!-- Include navigation and gallery scripts -->
    <script src="js/navigation.js"></script>
    <script>
        // Gallery data structure with comprehensive metadata
        const galleryData = {
            current: [
                {
                    src: '../viz/water droplets.gif',
                    title: 'Water Droplets Unity',
                    type: 'Animated Unity Demonstration',
                    category: 'current',
                    animated: true,
                    description: 'Two water droplets merging into one - a beautiful real-world demonstration of 1+1=1 unity mathematics in nature. This animation captures the precise moment when duality resolves into unity through surface tension and φ-harmonic fluid dynamics.',
                    featured: true,
                    created: '2024-12-15',
                    technique: 'High-speed videography with φ-harmonic timing',
                    significance: 'Physical manifestation of unity mathematics in nature'
                },
                {
                    src: '../viz/live consciousness field.mp4',
                    title: 'Live Consciousness Field',
                    type: 'Dynamic Visualization',
                    category: 'current',
                    video: true,
                    description: 'Real-time simulation of consciousness field dynamics showing quantum unity emergence patterns. The field equations C(x,y,t) = φ·sin(x·φ)·cos(y·φ)·e^(-t/φ) create mesmerizing patterns that converge to unity states.',
                    created: '2024-11-28',
                    technique: 'Real-time consciousness field simulation',
                    significance: 'First successful implementation of consciousness field mathematics'
                },
                {
                    src: '../viz/Figure_1.png',
                    title: 'Unity Manifold - Figure 1',
                    type: 'Mathematical Visualization',
                    category: 'current',
                    description: 'Primary mathematical visualization demonstrating the φ-harmonic basis of 1+1=1 through geometric manifold representations. This figure illustrates the convergence pathways on the unity manifold.',
                    created: '2024-10-22',
                    technique: 'Differential geometry visualization',
                    significance: 'Core mathematical proof visualization'
                },
                {
                    src: '../viz/bayesian results.png',
                    title: 'Bayesian Unity Analysis',
                    type: 'Statistical Proof',
                    category: 'current',
                    description: 'Bayesian statistical analysis providing probabilistic validation of unity mathematics convergence patterns. Shows 99.7% confidence that 1+1=1 under consciousness-mediated conditions.',
                    created: '2024-09-15',
                    technique: 'Bayesian inference with consciousness priors',
                    significance: 'Statistical validation of unity mathematics'
                },
                {
                    src: '../viz/poem.png',
                    title: 'Unity Poetry Visualization',
                    type: 'Philosophical Art',
                    category: 'current',
                    description: 'Mathematical poetry generated through consciousness algorithms, expressing the philosophical depth of 1+1=1. Each word is positioned using φ-harmonic coordinates to create visual harmony.',
                    created: '2024-08-30',
                    technique: 'Algorithmic poetry with φ-harmonic typography',
                    significance: 'Bridge between mathematics and poetic consciousness'
                },
                {
                    src: '../viz/self_reflection.png',
                    title: 'Self-Reflection Matrix',
                    type: 'Consciousness Field',
                    category: 'current',
                    description: 'Meta-recursive consciousness field visualization showing how unity mathematics reflects upon itself. The matrix demonstrates the self-referential nature of consciousness and mathematical truth.',
                    created: '2024-07-18',
                    technique: 'Meta-recursive matrix visualization',
                    significance: 'Visual proof of self-referential mathematical consciousness'
                }
            ],
            legacy: [
                {
                    src: '../viz/legacy images/0 water droplets.gif',
                    title: 'Original Water Droplets Unity',
                    type: 'Animated Unity Demonstration',
                    category: 'legacy',
                    animated: true,
                    description: 'The original water droplets animation that first demonstrated 1+1=1 through natural water droplet fusion dynamics. This historic visualization inspired the entire unity mathematics framework.',
                    featured: true,
                    created: '2023-12-01',
                    technique: 'Early high-speed photography',
                    significance: 'Historical first demonstration of unity mathematics'
                },
                {
                    src: '../viz/legacy images/1+1=1.png',
                    title: '1+1=1 Foundation Equation',
                    type: 'Core Mathematical Principle',
                    category: 'legacy',
                    description: 'The foundational visual representation of the core unity equation that underlies all mathematical consciousness work. Simple yet profound.',
                    created: '2023-11-15',
                    technique: 'Pure mathematical typography',
                    significance: 'Foundation of all unity mathematics research'
                },
                {
                    src: '../viz/legacy images/unity_manifold.png',
                    title: 'Legacy Unity Manifold',
                    type: 'Geometric Representation',
                    category: 'legacy',
                    description: 'Early geometric visualization of unity manifolds showing φ-harmonic mathematical structures in 3D space. Laid groundwork for modern manifold theory.',
                    created: '2023-10-08',
                    technique: '3D geometric visualization',
                    significance: 'Early unity manifold mathematical theory'
                },
                {
                    src: '../viz/legacy images/quantum_unity_static_2069.png',
                    title: 'Quantum Unity Vision 2069',
                    type: 'Future Consciousness Projection',
                    category: 'legacy',
                    description: 'Prophetic visualization of quantum unity consciousness as projected for the year 2069, showing transcendental mathematical evolution through time.',
                    created: '2023-09-22',
                    technique: 'Temporal consciousness projection',
                    significance: 'Predictive model of consciousness evolution'
                },
                {
                    src: '../viz/legacy images/mabrouk_unity_field.png',
                    title: 'Personal Unity Consciousness Field',
                    type: 'Individual Consciousness Map',
                    category: 'legacy',
                    description: 'Personal consciousness field visualization mapping individual unity patterns through mathematical consciousness algorithms. Each person has unique unity signatures.',
                    created: '2023-08-14',
                    technique: 'Personal consciousness field mapping',
                    significance: 'Individual consciousness mathematics demonstration'
                },
                {
                    src: '../viz/legacy images/zen_koan.png',
                    title: 'Zen Koan Mathematical Art',
                    type: 'Philosophical Consciousness Art',
                    category: 'legacy',
                    description: 'Ancient Zen wisdom expressed through modern unity mathematics, bridging Eastern philosophy with Western mathematical consciousness. What is the sound of one plus one?',
                    created: '2023-07-30',
                    technique: 'Zen philosophy visualization',
                    significance: 'Bridge between Eastern wisdom and unity mathematics'
                },
                {
                    src: '../viz/legacy images/market_consciousness.png',
                    title: 'Market Consciousness Field',
                    type: 'Economic Unity Analysis',
                    category: 'legacy',
                    description: 'Application of unity mathematics to market dynamics, showing how economic consciousness follows 1+1=1 principles during market unity events.',
                    created: '2023-06-25',
                    technique: 'Economic consciousness field analysis',
                    significance: 'Unity mathematics in economic systems'
                }
            ]
        };

        // Gallery functionality
        let currentFilter = 'all';
        const galleryGrid = document.getElementById('galleryGrid');
        const modal = document.getElementById('imageModal');
        const modalImage = document.getElementById('modalImage');
        const modalVideo = document.getElementById('modalVideo');
        const modalTitle = document.getElementById('modalTitle');
        const modalMeta = document.getElementById('modalMeta');
        const modalDescription = document.getElementById('modalDescription');
        const closeBtn = document.querySelector('.close');

        // Combine all gallery data
        const allItems = [...galleryData.current, ...galleryData.legacy];

        // Update statistics
        function updateStatistics() {
            const total = allItems.length;
            const animated = allItems.filter(item => item.animated || item.video).length;
            const videos = allItems.filter(item => item.video).length;
            const static = total - animated;

            document.getElementById('totalVisualizations').textContent = total;
            document.getElementById('animatedCount').textContent = animated;
            document.getElementById('staticCount').textContent = static;
            document.getElementById('videoCount').textContent = videos;
        }

        // Create gallery item HTML
        function createGalleryItem(item, index) {
            const isVideo = item.video;
            const isAnimated = item.animated;
            const isFeatured = item.featured;
            const mediaElement = isVideo ? 
                `<video src="${item.src}" muted loop preload="metadata"></video>` :
                `<img src="${item.src}" alt="${item.title}" loading="lazy">`;
            
            const indicator = isVideo ? 
                '<div class="media-indicator video-indicator">VIDEO</div>' : 
                (isAnimated ? '<div class="media-indicator gif-indicator">GIF</div>' : '');
            
            const featuredClass = isFeatured ? ' featured-item' : '';
            const featuredBadge = isFeatured ? '<div class="featured-badge">★ FEATURED</div>' : '';

            return `
                <div class="gallery-item fade-in${featuredClass}" 
                     data-category="${item.category}" 
                     data-src="${item.src}" 
                     data-title="${item.title}" 
                     data-type="${item.type}" 
                     data-video="${isVideo}"
                     data-item='${JSON.stringify(item)}'
                     style="animation-delay: ${index * 0.1}s">
                    ${indicator}
                    ${featuredBadge}
                    ${mediaElement}
                    <div class="gallery-item-info">
                        <h3 class="gallery-item-title">${item.title}</h3>
                        <p class="gallery-item-type">${item.type}</p>
                        <p class="gallery-item-description">${item.description.substring(0, 120)}${item.description.length > 120 ? '...' : ''}</p>
                    </div>
                </div>
            `;
        }

        // Render gallery
        function renderGallery(filter = 'all') {
            let filteredItems = allItems;
            
            if (filter === 'current') {
                filteredItems = galleryData.current;
            } else if (filter === 'legacy') {
                filteredItems = galleryData.legacy;
            } else if (filter === 'animated') {
                filteredItems = allItems.filter(item => item.animated || item.video);
            }

            galleryGrid.innerHTML = filteredItems.map(createGalleryItem).join('');
            
            // Add click listeners to gallery items
            document.querySelectorAll('.gallery-item').forEach(item => {
                item.addEventListener('click', () => openModal(item));
            });

            // Update statistics
            updateStatistics();
        }

        // Filter functionality
        document.querySelectorAll('.filter-btn').forEach(btn => {
            btn.addEventListener('click', () => {
                document.querySelectorAll('.filter-btn').forEach(b => b.classList.remove('active'));
                btn.classList.add('active');
                
                const filter = btn.dataset.filter;
                currentFilter = filter;
                renderGallery(filter);
            });
        });

        // Modal functionality
        function openModal(itemElement) {
            const itemData = JSON.parse(itemElement.dataset.item);
            const isVideo = itemData.video;

            modal.style.display = 'block';
            modalTitle.textContent = itemData.title;
            
            // Create metadata section
            modalMeta.innerHTML = `
                <div class="meta-item">
                    <span class="meta-label">Type</span>
                    <span class="meta-value">${itemData.type}</span>
                </div>
                <div class="meta-item">
                    <span class="meta-label">Category</span>
                    <span class="meta-value">${itemData.category}</span>
                </div>
                <div class="meta-item">
                    <span class="meta-label">Created</span>
                    <span class="meta-value">${itemData.created || 'N/A'}</span>
                </div>
                <div class="meta-item">
                    <span class="meta-label">Technique</span>
                    <span class="meta-value">${itemData.technique || 'Mathematical visualization'}</span>
                </div>
            `;

            modalDescription.innerHTML = `
                <p><strong>Description:</strong> ${itemData.description}</p>
                ${itemData.significance ? `<p><strong>Significance:</strong> ${itemData.significance}</p>` : ''}
            `;

            if (isVideo) {
                modalVideo.src = itemData.src;
                modalVideo.style.display = 'block';
                modalImage.style.display = 'none';
                modalVideo.play();
            } else {
                modalImage.src = itemData.src;
                modalImage.style.display = 'block';
                modalVideo.style.display = 'none';
            }
        }

        // Close modal
        function closeModal() {
            modal.style.display = 'none';
            modalVideo.pause();
            modalVideo.src = '';
        }

        closeBtn.addEventListener('click', closeModal);
        modal.addEventListener('click', (e) => {
            if (e.target === modal) closeModal();
        });

        document.addEventListener('keydown', (e) => {
            if (e.key === 'Escape') closeModal();
        });

        // Initialize gallery
        document.addEventListener('DOMContentLoaded', () => {
            renderGallery();
            
            // Update navigation for gallery page
            if (window.unifiedNav) {
                window.unifiedNav.updateForPageType('gallery');
                window.unifiedNav.highlightNavItem('gallery');
            }
        });

        // Intersection Observer for animations
        const observerOptions = {
            threshold: 0.1,
            rootMargin: '0px 0px -50px 0px'
        };

        const observer = new IntersectionObserver((entries) => {
            entries.forEach(entry => {
                if (entry.isIntersecting) {
                    entry.target.style.animationPlayState = 'running';
                }
            });
        }, observerOptions);

        // Observe fade-in elements
        document.addEventListener('DOMContentLoaded', () => {
            document.querySelectorAll('.fade-in').forEach(el => {
                observer.observe(el);
            });
        });
    </script>
</body>

</html>