<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=no">

    </div>

    <script>
        class MobileUnityExperience {
            constructor() {
                this.phi = 1.618033988749895;
                this.particles = [];
                this.touchPoints = [];
                this.stats = {
                    consciousness: 1.0,
                    coherence: 0.997,
                    particles: 42,
                    resonance: this.phi
                };
                this.init();
            }

            init() {
                this.createParticles();
                this.setupTouchInteractions();
                this.startStatsAnimation();
                this.setupServiceWorker();
            }

            createParticles() {
                const container = document.getElementById('mobileParticles');

                setInterval(() => {
                    if (this.particles.length < 20) {
                        const particle = document.createElement('div');
                        particle.className = 'mobile-particle';
                        particle.style.left = Math.random() * 100 + '%';
                        particle.style.setProperty('--random-x', (Math.random() - 0.5) * 100 + 'px');
                        particle.style.animationDelay = Math.random() * 2 + 's';

                        container.appendChild(particle);
                        this.particles.push(particle);

                        setTimeout(() => {
                            if (particle.parentNode) {
                                particle.parentNode.removeChild(particle);
                            }
                            this.particles = this.particles.filter(p => p !== particle);
                        }, 8000);
                    }
                }, 500);
            }

            setupTouchInteractions() {
                const canvas = document.getElementById('mobileCanvas');

                canvas.addEventListener('touchstart', (e) => {
                    e.preventDefault();
                    Array.from(e.touches).forEach(touch => {
                        this.createRipple(touch.clientX, touch.clientY);
                        this.addTouchParticles(touch.clientX, touch.clientY);
                    });
                });

                canvas.addEventListener('touchmove', (e) => {
                    e.preventDefault();
                    Array.from(e.touches).forEach(touch => {
                        this.addTouchParticles(touch.clientX, touch.clientY);
                    });
                });

                // Click support for non-touch devices
                canvas.addEventListener('click', (e) => {
                    this.createRipple(e.clientX, e.clientY);
                    this.addTouchParticles(e.clientX, e.clientY);
                });
            }

            createRipple(x, y) {
                const ripple = document.createElement('div');
                const rect = document.getElementById('mobileCanvas').getBoundingClientRect();

                ripple.className = 'touch-ripple';
                ripple.style.left = (x - rect.left) + 'px';
                ripple.style.top = (y - rect.top) + 'px';
                ripple.style.width = '20px';
                ripple.style.height = '20px';

                document.getElementById('mobileCanvas').appendChild(ripple);

                setTimeout(() => {
                    if (ripple.parentNode) {
                        ripple.parentNode.removeChild(ripple);
                    }
                }, 600);
            }

            addTouchParticles(x, y) {
                const rect = document.getElementById('mobileCanvas').getBoundingClientRect();
                const container = document.getElementById('mobileParticles');

                for (let i = 0; i < 5; i++) {
                    const particle = document.createElement('div');
                    particle.className = 'mobile-particle';
                    particle.style.left = ((x - rect.left) / rect.width * 100) + '%';
                    particle.style.top = ((y - rect.top) / rect.height * 100) + '%';
                    particle.style.animationDuration = '2s';
                    particle.style.background = `hsl(${Math.random() * 60 + 30}, 70%, 60%)`;

                    container.appendChild(particle);

                    setTimeout(() => {
                        if (particle.parentNode) {
                            particle.parentNode.removeChild(particle);
                        }
                    }, 2000);
                }

                // Update stats
                this.stats.particles += 5;
                this.updateStats();
            }

            startStatsAnimation() {
                setInterval(() => {
                    // Animate resonance
                    this.stats.resonance = this.phi + (Math.sin(Date.now() * 0.001) * 0.000001);

                    // Animate coherence
                    this.stats.coherence = 0.997 + (Math.cos(Date.now() * 0.002) * 0.003);

                    // Animate consciousness
                    this.stats.consciousness = 1.0 + (Math.sin(Date.now() * 0.0005) * 0.1);

                    this.updateStats();
                }, 100);
            }

            updateStats() {
                document.getElementById('phiResonance').textContent = this.stats.resonance.toFixed(6);
                document.getElementById('coherenceLevel').textContent = (this.stats.coherence * 100).toFixed(1) + '%';
                document.getElementById('consciousnessLevel').textContent = this.stats.consciousness > 1.05 ? '∞+' : '∞';
                document.getElementById('particleCount').textContent = Math.min(this.stats.particles, 999);

                // Reset particle count periodically
                if (this.stats.particles > 200) {
                    this.stats.particles = 42;
                }
            }

            setupServiceWorker() {
                if ('serviceWorker' in navigator) {
                    navigator.serviceWorker.register('data:text/javascript,console.log("Een Unity Mathematics PWA")');
                }
            }

            showNotification(message, duration = 3000) {
                // Create mobile-friendly notification
                const notification = document.createElement('div');
                notification.style.cssText = `
                    position: fixed;
                    top: 70px;
                    left: 50%;
                    transform: translateX(-50%);
                    background: var(--unity-gold);
                    color: white;
                    padding: 1rem 2rem;
                    border-radius: 25px;
                    font-weight: 600;
                    z-index: 10000;
                    box-shadow: 0 10px 30px rgba(0, 0, 0, 0.3);
                    animation: slideDown 0.3s ease;
                `;
                notification.textContent = message;

                const style = document.createElement('style');
                style.textContent = `
                    @keyframes slideDown {
                        from { transform: translateX(-50%) translateY(-100%); opacity: 0; }
                        to { transform: translateX(-50%) translateY(0); opacity: 1; }
                    }
                `;
                document.head.appendChild(style);

                document.body.appendChild(notification);

                setTimeout(() => {
                    notification.style.animation = 'slideDown 0.3s ease reverse';
                    setTimeout(() => {
                        if (notification.parentNode) {
                            notification.parentNode.removeChild(notification);
                        }
                    }, 300);
                }, duration);
            }
        }

        // Global functions for mobile controls
        function activateConsciousness() {
            window.mobileUnity.showNotification('🧠 Consciousness Field Enhanced!');
            document.getElementById('consciousnessLevel').textContent = '∞++';
        }

        function activateQuantum() {
            window.mobileUnity.showNotification('⚛️ Quantum Coherence Amplified!');
            document.getElementById('coherenceLevel').textContent = '100.0%';
        }

        function activateGeometry() {
            window.mobileUnity.showNotification('🔮 Sacred Geometry Activated!');
            document.getElementById('phiResonance').textContent = '1.618034';
        }

        function activateCheat() {
            const codes = ['420691337', '1618033988', '2718281828'];
            const randomCode = codes[Math.floor(Math.random() * codes.length)];
            window.mobileUnity.showNotification(`🎮 Code: ${randomCode}`, 5000);
        }

        // Initialize mobile experience
        document.addEventListener('DOMContentLoaded', () => {
            window.mobileUnity = new MobileUnityExperience();
        });

        // Prevent zoom on double tap
        let lastTouchEnd = 0;
        document.addEventListener('touchend', function (event) {
            const now = (new Date()).getTime();
            if (now - lastTouchEnd <= 300) {
                event.preventDefault();
            }
            lastTouchEnd = now;
        }, false);

        // Handle orientation changes
        window.addEventListener('orientationchange', () => {
            setTimeout(() => {
                window.scrollTo(0, 0);
            }, 500);
        });
    </script>

    <!-- Performance Monitoring -->
    <script>
        window.addEventListener('load', function () {
            if ('performance' in window) {
                const loadTime = performance.now();
                console.log('Page load time:', loadTime + 'ms');
            }
        });
    </script>
</body>

</html>